//- extends base
//- block title
//- 	title= request.args.s or posts.tags.join('+') or site.title
//- block content
//- 	for post in posts: .post_in_list
//- 		//- if post.cover
//- 		//- 	a.post_cover(href=post.url)
//- 		//- 		img(src=post.cover.resize(200, 200, fixed=True))
//- 		h2
//- 			a(href=post.url)= post.title
//- 		.post_metas
//- 			span
//- 				i.fa.fa-calendar
//- 				span= post.date('%Y-%m-%d')
//- 			if post.tags
//- 				i.fa.fa-tags
//- 				for tag in post.tags
//- 					a.tag(href='/tags/{{tag}}') &nbsp;{{tag}}
//- 			span.count
//- 				i.fa.fa-book
//- 				span= post.visits or 0
//- 		.post_intro= post.content.limit(300, keep_images=False)
//- 		.clear
//- 	+h.paginator()
extends base
block content
	entries = data.get_data(type='post', limit=300, sort='desc', pager_name='archive').group('date:year', reverse=True)
	ul.archive
		for year, posts in entries
			li.list_years= year
			ul.listing
				for post in posts: li.listing_item
					span.date= post.date('%Y-%m-%d')
					a(href=post.url, title=post.title)= post.title

	+h.paginator()